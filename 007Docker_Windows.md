---


---

<hr>
<h2 id="title-도커와-윈도우description-윈도우에서-도커를-사용하는-방법에-관한-내용입니다.date-2022-02-20t1654390900categories-도커-윈도우tags-docker_desktop-hyper-v-virtaul_box-virtual_machine-vscode-wsl2image-thum.pngdraft-false">title: “도커와 윈도우”<br>
description: “윈도우에서 도커를 사용하는 방법에 관한 내용입니다.”<br>
date: 2022-02-20T16:54:39+09:00<br>
categories: [“도커”, “윈도우”]<br>
tags: [“docker_desktop”, “hyper-v”, “virtaul_box”, “virtual_machine”, “vscode” ,“wsl2”]<br>
image: “thum.png”<br>
draft: false</h2>
<h2 id="윈도우">윈도우</h2>
<h3 id="발단">발단</h3>
<p>처음으로 프로그래밍 관련된 공부를 하게 되거나, 아니면 팀 프로젝트를 한다고 처음보는 환경이나 데이터베이스 같은<br>
연관된 플랫폼, 라이브러리 따위를 쓰게 된다면, 어려워 하시는 분들이 많습니다.</p>
<p>제가 속한 단체에서는 이를 활용하기 위해 도커로 수업이나 학습에 필요한 환경을 컨테이너화 하는 일을 맡게 되었으며<br>
최대한 리눅스, 도커, 컴퓨터공학과 같은 분야에 익숙하지 않는 분들을 쉽고 빠르게 개발 환경을 접해 볼 수 있도록 만들어야 할 필요가 있었습니다.</p>
<h3 id="윈도우에서의-도커">윈도우에서의 도커</h3>
<p>도커의 기본 환경은 리눅스에 맞춰져 있습니다. 따라서 윈도우에서 도커를 사용하려면 다른 방법을 선택할 필요가 있으며<br>
각 방법은 장단점이 존재했습니다.  대부분 가상머신을 이용한 방법입니다.</p>
<h3 id="가상-머신">가상 머신</h3>
<p><img src="1.png" alt="가상머신과 도커"></p>
<p>가상머신은 기존의 운영체제(Host OS)에 가상의 운영체제(Guest OS)를 올릴 수 있게 해주는 소프트웨어 입니다.<br>
도커도 가상머신과 흡사하지만 GuestOS를 모두 올리는 것이 아니라. 필요한 쉘과 커널등만 올린다는 차이점이 있습니다.<br>
즉 도커는 가상머신 만큼 자유롭지는 못하나. 환경을 만들고 사용하는 부분에서 가볍게 진행 가능합니다.</p>
<p>정리해보면 윈도우에서 우분투 컨테이너를 사용하려면<br>
<strong>윈도우 -&gt; 가상머신 -&gt; 리눅스 -&gt; 도커 -&gt; 컨테이너</strong><br>
의 관계를 거쳐야 합니다. 그렇게 깔끔하진 않은 것 같습니다.</p>
<h2 id="윈도우에서-사용하는-방법들">윈도우에서 사용하는 방법들</h2>
<h3 id="docker-toolbox">Docker Toolbox</h3>
<p><a href="https://github.com/docker-archive/toolbox/releases">공식 Github</a></p>
<p>과거에는 Docker Toolbox를 주로 사용했습니다.  이것은 Virtualbox로 도커를 쉽게 설치/연결 시켜주는 가상머신 파일입니다.<br>
그 시절 때 상대적으로 가벼웠던 Virtualbox는 도커를 쓰기 위해 잠깐 사용 할 가상머신으로 적합했습니다.<br>
그러나 가상머신 특징상 HostOS와 GuestOS가 분리되어 IDE로 Remote하지 않는 이상 환경 공유에 불편함이 따랐습니다.</p>
<p>결국은 이후에 더 편리한 방법이 나와 2019년에 프로젝트가 중단되었습니다.</p>
<h3 id="wls2">WLS2</h3>
<p>WLS2는 Windows에서 제공하는 리눅스용 하위 프로그램입니다. 쉽게 말하면 오직 리눅스 계열을 구동시킬 수 있는 가상머신입니다.<br>
기존의 WLS1은 가상머신과 거리가 멀되 HostOS인 윈도우와 호환성이 높게 만들어졌었으나<br>
Hyper-V를 사용하는 WSL2로 만들면서 WLS1보다 가상 환경의 성능을 더 우선시하게 만들어 졌습니다.</p>
<p>비록 WLS1보다는 문제가 있지만 HostOS와 환경 공유도 가능하고 GuestOS의 성능도 뛰어나 출시 후 각광 받았습니다.<br>
이 곳에다 Docker를 설치하여 컨테이너가 필요한 순간마다 WSL2를 사용하면 됩니다.</p>
<h3 id="docker-desktop">Docker Desktop</h3>
<p>위에서 나오는 모든 방법들은 컨테이너를 사용하기 위해 가상 머신을 사용해야 한다는 공통점을 가지고 있습니다. 이것은 번거로운 일입니다.</p>
<p>Docker Desktop은 이와 다르게, 설치되어있는 WSL2을 이용하여 HostOS에서 Docker를 사용할 수 있도록 도와줍니다.<br>
그렇기 때문에 사용하기 위해선 Hyper-V과 WSL2가 설치되어 있어야 합니다.</p>
<p><img src="2.png" alt="도커 데스크탑 원리"></p>
<p>예전에는 ARM 아키텍처를 이용하는 맥OS 계열에서도 이것을 사용했으나<br>
최근 Docker는 ARM아키텍처를 지원하게 되었기 때문에 해당 선택지를 고를 필요는 없습니다.</p>
<p>이것은 편리하지만 심각한 메모리의 사용률과 상업적 이용의 유료화 때문에 상위호환의 선택지가 될 수 없습니다.</p>

